# 第 4 章 变量、作用域和内存

## 目录
- [第 4 章 变量、作用域和内存](#第-4-章-变量作用域和内存)
  - [目录](#目录)
  - [原始值与引用值](#原始值与引用值)
    - [传递参数](#传递参数)
  - [执行上下文和作用域](#执行上下文和作用域)
    - [变量声明](#变量声明)
  - [垃圾回收](#垃圾回收)

## 原始值与引用值

原始值: 最简单的数据

引用值: 对各值构成的对象

### 传递参数

ES 中所有函数的参数都是按值传递的

- 对函数内本地变量的修改不可能影响到函数外部

```
typeof
instanceof
```

## 执行上下文和作用域

变量或函数的**上下文**决定了可访问那些**数据**和他们的**行为**

每个上下文都有一个关联的**变量对象**
- 全局上下文是最外层
- 在浏览器中, 全局上下文就是 `window` 对象

上下文在执行时, 会创建一个变量对象的**作用域链**

### 变量声明

`var`: 最近的上下文

- 未声明变量属于全局上下文

`let`: 块级上下文, 不能重复声明

- 严格来说, `let` 在运行时中也会被提升

`const`: 常量, 不能重新赋值

- 除非必要, 不然应尽可能多使用 `const`

## 垃圾回收

即执行环境负责**管理内存**

- `C/C++` 需要开发者管理

这是一个不完美的方案, 不能靠算法解决

- 因为某块内存是否还有用属于 `undecidable` 问题

实现方式
- 标记清理 `Mark and Sweep`
- 引用计数 `Reference Counting`

内存管理

